* 安装
** RAID驱动
+ 如果安装中无法看到磁盘，多少情况下需要安装对于服务器的RAID驱动
* 基本配置(初始安装之后) 
** 处理器计划  
+ 作为以提供服务为主的服务器需要是计算机资源优先满足于提供各种服务上
+ 计算机(右键)-高级系统设置-高级-性能-设置-高级-处理器计划
+ 设置为：后台服务
** 设置网络位置
+ 作用
  - 根据选择的位置类型，server会自动设置不同的安全选项，网络发现、防火墙等会进行相应调整
 + 类型
  - 家庭网络
  - 工作网络
  - 公用网络
  - 域
+ 网络和共享中心-网络(单击公用网络或家庭网络)
** MMC(微软管理控制台)
+ MMC允许管理员把常用的管理工具组织在一起
+ MMC本身并不执行管理功能，它只是集中、组织管理工具而已，可以添加到MMC中的主要工具类型称为管理单元
+ 命令启动-运行-mmc
* 本地账户管理
+ 查看当前登录用户
  #+BEGIN_SRC shell
  whoami
  #+END_SRC
+ 本地账户只能在本地计算机上登录，无法访问其他计算机资源
+ 内置本地账户
  - Administrator(系统管理员)：具有最高权限
  - Guest(来宾)：供临时访问计算机的用户使用
+ 配置文件位置
  c:/windows/system32/config/SAM
+ 创建本地账户
  - 管理工具-计算机管理-本地用户和组-用户-右键新建
+ 为administrator用户创建密码重设盘
  - 在登录界面中创建，写入u盘
  - 登录错误时会提示重置密码，可以使用密码重设盘设置新的密码
* 本地组管理
+ 组是账户、联系、计算机和其他组的集合
+ 组用于以下目的 
  - 管理用户和计算机的访问，其访问范围包括网络对象、本地对象、共享、打印机队列和设备等
  - 创建分配表
  - 筛选组策略
+ 创建本地组
  - 管理工具-计算机管理-本地用户和组-组-右键新建
+ 相关概念
  - 同一用户可以属于多个组
* 基本磁盘管理
+ 管理工具-计算机管理-存储-磁盘管理
+ 基本磁盘可以转换为动态磁盘
* 动态磁盘管理
** 简单卷
** 跨区卷
+ 特性
  - 组成跨区卷的磁盘数量为2-32个
  - 组成跨区卷磁盘的未分配空间大小可以不同
  - 跨区卷的成员中不含“系统卷”和“引导卷”
  - 数据存储到跨区卷时，会先存储到跨区卷成员中的第一个磁盘上，空间耗尽后依次顺序向后面的成员磁盘上存储
  - 跨区卷没有容错功能，当某个成员磁盘出现故障后，整个跨区卷的数据都将损坏丢失
  - 读写性能一般 
  - NTFS跨区卷可以扩展
** 带区卷(RAID-0)
+ 特性
  - 要求成员磁盘使用的空间大小一致
  - 写入和读取文件是同时操作每个成员磁盘，读写性能好
  - 没有容错功能，当某个成员磁盘出现故障后，整个带区卷的数据都将损坏丢失
** 镜像卷(RAID-1)
+ 特性
  - 成员磁盘只有2个，且在不同的动态磁盘上
  - 2个成员磁盘使用相同的容量
  - 可以包含“系统卷”和“引导卷”
  - 一旦建立无法扩展
  - 镜像卷有冗余功能，磁盘空间利用率只有50%，磁盘空间利用率低
  - 数据写入时，是同时写入两个磁盘，时间较长，但读取时是从两个磁盘读取数据的不同部分，读取速率高
** RAID-5卷
+ 特性
  - 需要至少3个磁盘以上
  - 其中一个磁盘作为冗余，磁盘成员之一坏掉不会影响数据，但多余一个以上的磁盘损坏是数据会丢失
* 磁盘配额管理
+ 配额管理是基于用户和卷且针对NTFS卷，防止用户向磁盘中写入大量数据耗尽磁盘空间
+ 默认情况下没有开启
* NTFS文件权限管理
** 权限继承与删除
+ 当创建新目录或文件时将从父目录继承权限设置
+ 可以取消从父目录继承权限，当取消继承权限时会询问是复制或删除继承权限，需要主要当取消继承权限时需要检查子目录是否存在至少一个有用完全权限的用户，否则该文件将变成黑洞文件任何人都无法编辑处理,处理方法是使用拥有者登录编辑该文件的权限设置
** 权限规则
+ 继承父目录的权限
+ 可用取消继承
+ 拒绝权限优先级高于许可权限
+ 文件权限优先级高于目录权限
* 共享文件夹管理
** 权限
+ 完全控制:共有者
+ 更改:参与者
+ 读写:读者
** 权限规则
+ 权限有累加性，拒绝权限优先级高于允许权限
+ 最终权限为共享权限与NTFS权限设置中限制最严格的权限
** 用户
+ 当本机登录的用户在网络主机上存在并且密码相同时，会在网络主机上使用此用户登录访问共享文件夹
+ 当本机登录的用户在网络主机上不存在或密码不同时，且网络主机未启用guest用户，则会询问用户名和密码，否则无法访问共享文件夹；网络主机启用guest用户时，本机则使用guest用户身份访问网络机的共享文件夹
+ guest用户隶属于everyone用户组
** 共享文件夹管理
+ 服务器管理器-角色-文件服务-共享和存储管理
  显示所有的共享文件夹
+ 默认情况下所有的磁盘都是隐藏共享的(c$、d$...)，当本机的administrator用户名与密码与网络机相同时，可用直接访问
+ 服务器管理器-管理会话
  查看当前访问本机共享文件夹的所有用户
+ 共享文件夹隐藏
  - 通过在共享文件夹名称后面添加$,可用隐藏该共享文件夹并保留共享性,但只能通过在资源管理器中输入网络机名称机目录才能访问到
* 打印机服务器
** 设置共享  
+ 控制面板-打印机-属性-共享-共享这台打印机
** 客户端连接打印机
+ 在网上邻居中找到打印机服务器-双击连接共享打印机
** 可以使用打印机共享器替代打印机服务器(成本低)
** 打印机服务器管理
+ 控制面板-打印机-属性-高级
  - 优先级
    通过重复添加同一台物理打印机从而创建逻辑打印机，并设置不同的优先级，从而保证重要用户优先打印
+ 控制面板-打印机-属性-安全
  - 通过为物理或逻辑打印机设置不同的安全权限(在打印机服务器上创建不同用户，分配给不同的打印机，需要删除everyone用户)，可以指定用户连接特定的共享打印机
** 打印机池(解决大批量打印)
+ 组成打印机池的物理打印机需要同厂家、同型号
+ 控制面板-打印机-属性-端口-启用打印机池
* WINS服务器
** 网络中计算机名(只用于局域网内计算机的标识)
*** NetBIOS名
+ NetBIOS名使用最长16个字符(总体数量少)的名称来标识网络中的计算机资源，与DNS计算机名的层次结构不同，NetBIOS名是单层平面的，在一个网络中只能出现一次
+ 在Windows中，经常会使用NetBIOS名来标识计算机、工作组、域
+ 在Windows2000之后，就可以不需要对NetBIOS进行支持了，而采用DNS计算机名，但在微软网络中，某些特定的服务必须依赖NetBIOS名而工作
*** 使用LMHOSTS文件
+ 该文件位于c:\Windows\System32\driver\etc下，默认为空
+ 可以向该文件添加记录
  #+BEGIN_SRC conf
  192.168.0.2 zp
  192.168.0.5 yyx
  #+END_SRC
+ 缺点
  - 网络中每台计算机都需要配置LMHOSTS文件，工作量大
  - LMHOSTS文件不能动态变化
  - 当网络中计算机数量较大时，LMHOSTS文件中记录的数量会很大，严重影响NetBIOS名的解析速度
*** NetBIOS节点类型
**** b-node(广播)
+ 采用广播解析NetBIOS名，微软的b-node方式广播解析失败时，还会进一步查询LMHOSTS文件中的记录
+ ipconfig /all 会显示计算机的节点类型，默认是h-node，通过注册表可以修改 
**** p-node(对等)
+ 使用点对点方式，直接向WINS服务器查询NetBIOS名对于的IP地址
**** m-node(混合)
+ 是b-node和p-node的结合，计算机首先使用广播解析NetBIOS名对应的IP地址，如果失败改为向WINS服务器进行查询
**** h-node(混合)
+ 是p-node和b-node的结合，计算机首先向WINS服务器进行查询NetBIOS名对应的IP地址，失败了改为广播方式解析NetBIOS名
** WINS工作原理
*** 工作过程
**** NetBIOS名称注册
+ 注册信息内容
  - 名称 HOST-A
  - 类型 [00h]
  - IP地址 192.168.0.11
**** NetBIOS名称刷新
+ 当生存时间剩余50%的时候WINS客户端会启动刷新，重续生存时间
**** NetBIOS名称解析
**** NetBIOS名称释放
+ 当系统关闭或使用了nbststat -RR命令时，将释放NetBIOS名称
** WINS服务器安装
+ 服务器管理器-功能-添加功能-勾选WINS服务器(安装)
+ 控制面板-管理工具-WINS(配置)
** WINS客户端设置
+ 控制面板-网络连接-网卡属性-TCP/IPv4属性-高级-WINS-添加-WINS服务器IP地址
** WINS服务器管理
+ 控制面板-管理工具-WINS
+ 显示记录
  活动注册-显示记录
+ 创建静态静态映射
  活动注册-新建静态映射
+ WINS服务器属性
  - 常规
  - 间隔
  - 数据库验证
  - 高级
+ WINS服务器的启动、停止、暂停、重新启动
  属性-所有任务
+ WINS服务器数据库的维护
  - 数据库默认存储在C:\Windows\System32\wins中，其中wins.mdb是最重要的文件
  - 清理数据库
    系统会自动清理，也可以手动清理，属性-清理数据库
  - 数据库的整理
    1. 停止WINS服务
    2. 执行Dos命令
       #+BEGIN_SRC shell
       cd c:\windows\system32\wins
       jetpack wins.mdb temp.mdb
       #+END_SRC
    3. 启动WINS服务
  - 数据库的备份与还原
    WINS服务器-属性-备份(还原)
* DNS
** 简介
*** 域名(主机名)解析途径
**** 计算机hosts文件
+ windows下存放在c:\windows\system32\drivers\etc
+ 范例
  127.0.0.1    localhost
  10.1.14.61   www.szpt.net
+ 优点
  - 本地存储，手动指定，简单
+ 缺点
  - 本地有效，其他计算机无法使用该记录
  - 主机很多时，工作量大，查询速度慢
**** DNS服务器
***** DNS查询流程
+ 查询本机DNS缓存
  - 查看本机DNS缓存记录 ipconfig /displaydns
  - 可以手动刷新 ipconfig /flushdns
+ 查询hosts文件中的记录(可以实现域名解析重定向即域名劫持)
+ 查询指定的DNS服务器
  - 查询区域文件
  - 查询高速缓存
+ 查询其他DNS服务器
*** 域名结构
**** 树形结构
+ Root Domain
  + com
    + yahoo
      - www
      - ftp
      - mail
    + baidu
    + google
    + ...
  + net
  + org
  + gov
  + cn
    + com
      + sina
        - www
        - ftp
        - ...
    + org
    + edu
    + ...
  + ...
**** 分层形式(级别)
***** 根域(Root Domain)
***** 顶层域
***** 子域(第二层、第三层)
***** 主机
*** DNS查询过程
**** 迭代查询
**** 递归查询
*** 资源记录
+ 资源记录中记录着主机的IP地址与域名的对应关系
+ 有不同类型的资源记录
  - A 将主机名转换为IP地址
  - CNAME 指定主机别名
  - MX 建立邮件服务器记录
  - PTR 将地址转换为主机名，主机名必须规范
  - SRV 服务位置
** DNS服务器安装设置
+ 服务器管理器-角色-添加角色-向导-勾选DNS服务器
  要求使用静态IP地址
+ 控制面板-管理工具-DNS管理器
** 正向查找区域
+ 通过域名解析IP地址，称为正向查询
+ 创建正向查找区域
  DNS管理器-正向查找区域-新建区域
+ 区域类型
  - 主要区域
    此区域的主要管理者
  - 辅助区域
    1. 是对主要区域的备份、同步更新，当主要区域挂掉时可以保证正常的DNS服务
    2. 需要在其他服务器上同样安装DNS，在创建辅助区域时名称要求与主要区域完全一样
    3. 需要在主要区域服务器上设置，允许辅助区域进行区域传送
    4. 辅助区域不能直接添加记录，而是从主要区域同步过来
  - 存根区域
+ 创建主机记录
  - 新建主机(A或AAAA)
  - 新建别名(CNAME)
** 反向查找区域
+ 通过IP地址查询对应的域名，称为反向查询
+ 可以在创建正向查询记录时，同时创建反向查询记录
+ 由于会增加完全方面的风险，用到的不多 
** DNS测试工具
+ nslookup
  切换测试的DNS服务器 >server
** DNS转发器
+ 由于企业内部的DNS服务器性能的限制，应该将对外部域名的解析工作通过DNS转发器转移到专业的DNS服务器上完成迭代、递归查询这些耗费资源的工作(通常是转到ISP的DNS服务器)，
+ 本地DNS服务器一般只负责解析内网主机名，及代理转发外网专业DNS服务器返回的结果
+ 控制面板-管理工具-DNS-属性-转发器
** 企业内外网DNS服务器
+ 内网DNS服务器记录的都是私网IP地址
+ 外网DNS服务器记录的是公网IP地址
* DHCP
** 简介
*** 
